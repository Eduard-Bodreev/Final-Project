# **–§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç 1 —Å–µ–º–µ—Å—Ç—Ä–∞**
REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤—ã–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ —Ü–µ–Ω–∞—Ö.


## **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ**
**–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:**  
- Ubuntu 22.04 (–∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã Linux)  
- Windows 10/11 (—á–µ—Ä–µ–∑ WSL)  

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**  
- Go `1.21+`  
- PostgreSQL `14+`  
- `curl`, `unzip`, `tar`, `bash` (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–æ–≤)

---

## **‚öô –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫**
### **1Ô∏è –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
–°–Ω–∞—á–∞–ª–∞ —Å–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å GitHub:
```bash
git clone https://github.com/Eduard-Bodreev/Final-Project.git
cd Final-Project
```


### **2 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
```bash
./scripts/prepare.sh
```
–°–∫—Ä–∏–ø—Ç:
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PostgreSQL (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `project_sem_1`
- –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `prices`
- –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `validator`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

---

### **3 –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä**
```bash
./scripts/run.sh
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://localhost:8080
```
–ï—Å–ª–∏ –ø–æ—Ä—Ç `8080` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∑–∞–≤–µ—Ä—à–∏ –ø—Ä–æ—Ü–µ—Å—Å (`kill -9 <PID>`) –∏–ª–∏ –∏–∑–º–µ–Ω–∏ –ø–æ—Ä—Ç –≤ `main.go`.

---

## ** API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**
### **POST `/api/v0/prices`**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å —Ü–µ–Ω–∞–º–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.  
**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**  
```bash
curl -X POST http://localhost:8080/api/v0/prices -F "file=@sample_data.zip"
```
**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (`JSON`):**
```json
{
  "total_items": 12,
  "total_categories": 5,
  "total_price": 4740.39
}
```

---

### **GET `/api/v0/prices`**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –≤ –≤–∏–¥–µ `data.csv` –≤–Ω—É—Ç—Ä–∏ ZIP-–∞—Ä—Ö–∏–≤–∞.  
**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**  
```bash
curl -X GET http://localhost:8080/api/v0/prices -o output.zip
```
**–§–∞–π–ª `data.csv` (–ø—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ):**
```csv
id,created_at,name,category,price
1,2024-01-01,iPhone 13,Electronics,799.99
2,2024-01-02,Nike Air Max,Shoes,129.99
...
```

---

## **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
### **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**
```bash
./scripts/tests.sh 1
```
### **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
**POST** `/api/v0/prices`: –∑–∞–≥—Ä—É–∑–∫–∞ ZIP-—Ñ–∞–π–ª–∞ —Å `data.csv`  
**GET** `/api/v0/prices`: —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ ZIP-–∞—Ä—Ö–∏–≤–∞ —Å `data.csv`  
**PostgreSQL**: –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö  

–ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã, —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç:
```
‚úì –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
```

---

## **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `sample_data`**
–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.  
–§–∞–π–ª `sample_data.zip` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `data.csv` ‚Äî –Ω–∞–±–æ—Ä —Ü–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```csv
id,name,category,price,create_date
1,iPhone 13,Electronics,799.99,2024-01-01
...
```

---

## **–ö–æ–Ω—Ç–∞–∫—Ç—ã**
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–æ–µ–∫—Ç—É, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π:
üì© Telegram: @AdDadaya
